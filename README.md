![Catstruct](http://darkened.space/catstruct.jpg)

# Catstruct

## Таски и команды

Установка зависимостей:
```
npm i
```
Запуск сборки проекта с **отслеживанием изменений**:
```
npm start
```
Сборка проекта
```
npm build
```
Создание страницы с ее сорс-файлом .jade:
```
npm run page pagename
```
Создание блока (создает папку с заданным именем и файлами jade/styl):
```
npm run block blockname
```
Упаковка папки `dist` в архив:
```
npm run zip
```
## Структура

```
├──app/
|	├──assets/ - ресурсы, которые используются в дальнейшем (пути сохраняются)
|	|   ├──fonts/ - шрифты
|	|   ├──images/ - картинки
|	|   ├──styles/ - скомпилированные стили
|	|   └──sprites/ - папка для спрайтов (исходники для склейки)
|	|
|	├──blocks/ - папки с блоками (jade + styl + js)
|	|   └──layouts/ - шаблоны
|	|
|	├──data/ - коллекция json-файлов с данными
|	|
|	├──helpers/ - различные хелперы
|	|   ├──styles/
|	|   |   ├──fonts.styl - подключение шрифтов (важно помнить, что путь до шрифтов остается таким же, как и в примере)
|	|   |   ├──import.styl - импорт библиотек stylus'a
|	|   |   ├──mixins.styl - примеси stylus'a
|	|   |   ├──variables.styl - переменные stylus'a
|	|   |   └──sprite.styl - генерируемый файл спрайтов
|	|   |
|   |   └──jade/
|	|       ├──import.jade - все импорты jade зависимостей (генерируется автоматически)
|   |       └──bemto/ - БЭМ для jade
| 	| 
|	└──pages/ - файлы с разметкой страниц (как правило включают в себя только инклюд)
|
├──scripts/ - таски и скрипты для сборки
|
└──.browsers - список браузеров, которым будет собираться "персональный" файл стилей
```

## Поддержка `ie9` и прочих браузеров

Чтобы реализовать "рукописную" поддержку CSS в любых браузерах, в особенности старых браузерах, в шаболне реализовано решение:

Создаем файл `blockname@ie9.styl`, на выходе получаем `main@ie9.css`, который можно спокойно подключать через псевдо-комментарии.

Чтобы шаблон знал, какие браузеры войдут в сборку, нужно указать их список в корне лежит файл `.browsers`.

Указываем в нем список браузеров (я это сделал для удобства работы с семейством `ie`, поэтому пример будет соответствующим):

```
ie9 ie8
```

Создаем файлы силей описанные выше, на выходе получим "персональные" файлы стилей, для этих браузеров.

### О шаблоне

Создание данного шаблона стало результатом вдохновения от [CSSSR Project template](https://github.com/CSSSR/csssr-project-template). Ребята, вы могете :)

Создавался около года и постепенно обрастал фичами. На данный момент, мне кажется он более-менее скомпанованным и способным приносить пользу.

А вообще, теперь и у меня есть свой велосипед!  :cat: